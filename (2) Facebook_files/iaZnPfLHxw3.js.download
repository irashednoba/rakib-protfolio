if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventData=function(a){this.$1.event_data=a;return this};return a}();c={event:!0,event_data:!0};f["default"]=a}),66);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g={};function h(a,c,d){var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a}),null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],(function(a,b,c,d,e,f){var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})}),null);
__d("ShortProfilesBootstrapper",["AsyncRequest","CurrentUser","ODS","Promise","XChatUserInfoAllAsyncController"],(function(a,b,c,d,e,f){"use strict";var g=5,h=1e4,i=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI();a=function(){function a(a){var c=this;this.$1=a;this.$2=new(b("Promise"))(function(a,b){c.$3=a,c.$4=b});this.$5=!1;this.$6=null;this.$7=0;this.$8=0;this.$9=0;this.$10=!1;this.$11=!1}var c=a.prototype;c.fetchAll=function(){var a=this;this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=g){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(i).setHandler(function(b){a.$6=null,a.$5=!0,a.$15(),a.$1(b.payload),a.$3()}).setErrorHandler(function(){a.$6=null,a.$8++,a.$16()}).setTimeoutHandler(h,function(){a.$6=null,a.$9++,a.$17(),a.fetchAll()}).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};c.isBootstrapped=function(){return this.$5};c.isBootstrapping=function(){return!!this.$6};c.getAttemptCount=function(){return this.$7};c.getErrorCount=function(){return this.$8};c.getTimeoutCount=function(){return this.$9};c.$12=function(){this.$10||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.starts"),this.$10=!0)};c.$14=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.attempts")};c.$15=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes"),this.$7>1&&b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.successes_after_retries")};c.$16=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.errors")};c.$17=function(){b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.timeouts")};c.$13=function(){this.$11||(b("ODS").bumpEntityKey(3303,"chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};return a}();e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("ShortProfiles",["AjaxLoader","CurrentUser","FBLogger","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=new(c("AjaxLoader"))(c("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles");function a(a,b){j([a],function(c){return b(c[a],a)})}function j(a,b){if(c("gkx")("2421")){var d=new Error("chat user info is being used");d.stack;c("FBLogger")("messenger_comet").catching(d).warn("chat user info is being used here")}i.get(a,b||c("emptyFunction"))}function k(a){if(c("gkx")("2421")){var b=new Error("chat user info is being used");b.stack;c("FBLogger")("messenger_comet").catching(b).warn("chat user info is being used here")}return i.getNow(a)||null}function b(a){var b={};a.forEach(function(a){return b[a]=k(a)});return b}function d(){if(c("gkx")("2421")){var a=new Error("chat user info is being used");a.stack;c("FBLogger")("messenger_comet").catching(a).warn("chat user info is being used here")}return i.getCachedKeys()}function e(){return!!h&&h.isBootstrapped()}function f(){if(c("gkx")("2421")){var a=new Error("chat user info is being used");a.stack;c("FBLogger")("messenger_comet").catching(a).warn("chat user info is being used here")}h||(h=new(c("ShortProfilesBootstrapper"))(function(a){i.set(a)}));return h.fetchAll()}function l(a,b){var c={};c[a]=b;m(c)}function m(a){if(c("gkx")("2421")){var b=new Error("chat user info is being used");b.stack;c("FBLogger")("messenger_comet").catching(b).warn("chat user info is being used here")}if(c("CurrentUser").isWorkUser()){var d={};Object.keys(a).forEach(function(b){var e=a[b];(e.type!=="fb4c"||!e.uri)&&(d[b]=e);var f=new(c("URI"))(e.uri).setDomain("").setProtocol("").toString();d[b]=babelHelpers["extends"]({},e,{uri:f})});a=d}i.set(a)}g.get=a;g.getMulti=j;g.getNow=k;g.getMultiNow=b;g.getCachedProfileIDs=d;g.hasAll=e;g.fetchAll=f;g.set=l;g.setMulti=m}),98);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",THREAD_INFO_MISSING:"thread_info_missing",SET_THREAD_ID_MAP:"set_thread_id_map",DELETE_THREAD:"delete_thread",PROCESS_DELTA:"process_delta",RTI_SESSION:"chatproxy_rti_session",ON_INVALID_HISTORY:"chatproxy_on_invalid_history",GET_DEBUG_PRESENCE:"chatproxy_get_debug_presence"});f["default"]=a}),66);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){if(!c("gkx")("678576"))return;new(c("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(b).log()};function a(a){h(c("ChatReliabilityEvents").ERROR,a)}function b(a){h(c("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)}function d(a){h(c("ChatReliabilityEvents").CHANNEL_CONNECT,a)}function e(a){h(c("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)}function f(a){h(c("ChatReliabilityEvents").MESSAGE_RECEIVED,a)}function i(a){h(c("ChatReliabilityEvents").MESSAGE_SEND_START,a)}function j(a){h(c("ChatReliabilityEvents").CHANNEL_STALLED,a)}function k(a){h(c("ChatReliabilityEvents").CHANNEL_INIT,a)}function l(a){h(c("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)}function m(a){h(c("ChatReliabilityEvents").DFF_DELTA_INIT,a)}function n(a){h(c("ChatReliabilityEvents").DFF_HOLE_INIT,a)}function o(a){h(c("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)}function p(a){h(c("ChatReliabilityEvents").PROCESS_DELTA,a)}function q(a){h(c("ChatReliabilityEvents").THREAD_INFO_MISSING,a)}function r(a){h(c("ChatReliabilityEvents").SET_THREAD_ID_MAP,a)}function s(a){h(c("ChatReliabilityEvents").DELETE_THREAD,a)}function t(a){h(a)}g.logERROR=a;g.logCHANNEL_DISCONNECT=b;g.logCHANNEL_CONNECT=d;g.logCHANNEL_HISTORY_INVALID=e;g.logMESSAGE_RECEIVED=f;g.logMESSAGE_SEND_START=i;g.logCHANNEL_STALLED=j;g.logCHANNEL_INIT=k;g.logCHANNEL_NOCONFIG=l;g.logDFF_DELTA_INIT=m;g.logDFF_HOLE_INIT=n;g.logFETCHING_MANY_MESSAGES=o;g.logPROCESS_DELTA=p;g.logTHREAD_INFO_MISSING=q;g.logSET_THREAD_ID_MAP=r;g.logDELETE_THREAD=s;g.logCHATPROXY_EVENT=t}),98);
__d("MercuryMessagingLightswitch",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a={guard:function(a){if(c("gkx")("1828242"))return;a()},shouldRun:function(){return!c("gkx")("1828242")}};b=a;g["default"]=b}),98);
__d("ScriptPathState",["Arbiter"],(function(a,b,c,d,e,f){var g,h,i,j,k=100,l={setIsUIPageletRequest:function(a){i=a},setUserURISampleRate:function(a){j=a},reset:function(){g=null,h=!1,i=!1},_shouldUpdateScriptPath:function(){return h&&!i},_shouldSendURI:function(){return Math.random()<j},getParams:function(){var a={};l._shouldUpdateScriptPath()?l._shouldSendURI()&&g!==null&&(a.user_uri=g.substring(0,k)):a.no_script_path=1;return a}};b("Arbiter").subscribe("pre_page_transition",function(a,b){h=!0,g=b.to.getUnqualifiedURI().toString()});e.exports=a.ScriptPathState=l}),null);
__d("AjaxPipeRequest",["invariant","Arbiter","AsyncRequest","AsyncRequestConfig","BigPipe","CSS","ContextualComponent","DOM","Env","PageEvents","PageletGK","PageletSet","ScriptPathState","URI","containsNode","ge","goOrReplace","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h){var i,j=0;function k(a,b){var e=c("ge")(a);if(!e)return;b||(e.style.minHeight="100px");b=d("PageletSet").getPageletIDs();for(var f=0;f<b.length;f++){var g=b[f];if(d("PageletSet").hasPagelet(g)){var h=d("PageletSet").getPagelet(g);c("containsNode")(e,h.getRoot())&&d("PageletSet").removePagelet(g)}}c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:a});function i(a){var b=c("ContextualComponent").forNode(a);b&&b.unmount();c("DOM").empty(a)}c("PageletGK").destroyDomAfterEventHandler?(c("Arbiter").inform("pagelet/destroy",{id:null,root:e}),i(e)):(i(e),c("Arbiter").inform("pagelet/destroy",{id:null,root:e}))}function l(a,b){a=c("ge")(a);a&&!b&&(a.style.minHeight="100px")}b=function(){function b(a,b,d){this._allowIrrelevantRequests=!1;this._canvas_id=a;this._uri=b;this._query_data=d;a=new(c("AsyncRequest"))();a.setReplaceTransportMarkers(!1);this._request=a;this._allow_cross_page_transition=!0;this._arbiter=new(c("Arbiter"))();this._requestID=j++}var e=b.prototype;e.getArbiter=function(){return this._arbiter};e.setData=function(a){this._query_data=a;return this};e.getData=function(){return this._query_data};e.setAllowCrossPageTransition=function(a){this._allow_cross_page_transition=a;return this};e.setAppend=function(a){this._append=a;return this};e._getAsyncRequestType=function(){return c("AsyncRequestConfig").useFetchStreamAjaxPipeTransport?"useFetchWithIframeFallback":"useIframeTransport"};e.send=function(){this._arbiter.inform(c("PageEvents").AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:c("performanceAbsoluteNow")()},"persistent");var a={ajaxpipe:1,ajaxpipe_token:c("Env").ajaxpipe_token};Object.assign(a,c("ScriptPathState").getParams());c("ScriptPathState").reset();var b=this._request;if(b==null)return this;b.setOption(this._getAsyncRequestType(),!0).delayPreDisplayJS().setURI(this._uri).setData(Object.assign(a,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);this._automatic?this._relevantRequest=i:i=this._request;if(this._isQuickling){a=c("performance").clearResourceTimings||c("performance").webkitClearResourceTimings;a&&a.call(c("performance"))}b.send();return this};e._preBootloadFirstResponse=function(a){return!1};e._fireDomContentCallback=function(){var a=this._request;a&&a.cavalry&&a.cavalry.setTimeStamp("t_domcontent");this._arbiter.inform(c("PageEvents").AJAXPIPE_DOMREADY,!0,"state")};e._fireOnloadCallback=function(){window.console&&console.timeStamp&&console.timeStamp('perf_trace {"name": "e2e", "parent": "PageEvents.AJAXPIPE_ONLOAD"}');var a=this._request;a!=null&&a.cavalry&&(a.cavalry.setTimeStamp("t_hooks"),a.cavalry.setTimeStamp("t_layout"),a.cavalry.setTimeStamp("t_onload"));this._arbiter.inform(c("PageEvents").AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:c("performanceAbsoluteNow")()},"state")};e._isRelevant=function(a){return this._request===i||this._automatic&&this._relevantRequest===i||this._jsNonBlock||i!=null&&i.getAllowIrrelevantRequests()};e._preBootloadHandler=function(a){var b=this._request,d=a.getPayload();if(!d||d.redirect||!this._isRelevant(a))return!1;var e=!1;a.is_first&&(!this._append&&!this._displayCallback&&!d.isCometResponse&&k(this._canvas_id,this._constHeight),e=this._preBootloadFirstResponse(a),b!=null||h(0,36),this.pipe=new(c("BigPipe"))({config:d.bigPipeConfig,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:b.lid,rid:this._requestID,isAjax:!0,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:c("PageEvents").AJAXPIPE_DOMREADY,onloadEvt:c("PageEvents").AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests}),this.pipe.setPageID(b.lid));return e};e._redirect=function(b){if(b.redirect){if(b.force||!this.isPageActive(b.redirect)){var d=["ajaxpipe","ajaxpipe_token"].concat(this.getSanitizedParameters());c("goOrReplace")(window.location,new(c("URI"))(b.redirect).removeQueryData(d),!0)}else{d=a.PageTransitions;d.go(b.redirect,!0)}return!0}else return!1};e.isPageActive=function(a){return!0};e.getSanitizedParameters=function(){return[]};e._versionCheck=function(a){return!0};e._onInitialResponse=function(a){var b=a.getPayload();if(!this._isRelevant(a))return!1;if(!b)return!0;return this._redirect(b)||!this._versionCheck(b)?!1:!0};e._processFirstResponse=function(a){this._arbiter.inform(c("PageEvents").AJAXPIPE_FIRST_RESPONSE,{lid:this.pipe.lid,quickling:!!this._isQuickling});a=a.getPayload();var b=c("ge")(this._canvas_id);a=a.canvas_class;b!=null&&a!=null&&d("CSS").setClass(b,a)};e.setFirstResponseCallback=function(a){this._firstResponseCallback=a;return this};e.setFirstResponseHandler=function(a){this._processFirstResponse=a;return this};e._onResponse=function(a){var b=a.payload;if(!this._isRelevant(a))return c("AsyncRequest").suppressOnloadToken;a.is_first&&(this._processFirstResponse(a),this._firstResponseCallback&&this._firstResponseCallback(),b.provides=b.provides||[],b.provides.push("uipage_onload"));if(b){if("content"in b.content){this._append&&(b.append=this._canvas_id);var d=b.content.content;delete b.content.content;b.content[this._canvas_id]=d}this.pipe.onPageletArrive(b)}a.is_last&&l(this._canvas_id,this._constHeight);return c("AsyncRequest").suppressOnloadToken};e.setNectarModuleDataSafe=function(a){this._request!=null&&this._request.setNectarModuleDataSafe(a);return this};e.setFinallyHandler=function(a){this._request!=null&&this._request.setFinallyHandler(a);return this};e.setErrorHandler=function(a){this._request!=null&&this._request.setErrorHandler(a);return this};e.setTransportErrorHandler=function(a){this._request!=null&&this._request.setTransportErrorHandler(a);return this};e.setResetHandler=function(a){this._resetHandler=a;return this};e.abort=function(){this._request!=null&&this._request.abort();this._reset();return this};e.abandon=function(){this._request!=null&&this._request.abandon();this._reset();return this};e._reset=function(){i==this._request&&(i=null),this._request=null,this._resetHandler&&this._resetHandler()};e.setJSNonBlock=function(a){this._jsNonBlock=a;return this};e.setAutomatic=function(a){this._automatic=a;return this};e.setDisplayCallback=function(a){this._displayCallback=a;return this};e.setConstHeight=function(a){this._constHeight=a;return this};e.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};e.getAsyncRequest=function(){return this._request};b.getCurrentRequest=function(){return i};b.setCurrentRequest=function(a){i=a};return b}();b.clearCanvas=k;g["default"]=b}),98);
__d("QueryHistory",[],(function(a,b,c,d,e,f){"use strict";var g={};a={set:function(a,b){g[this._key(a)]=b},get:function(a){return g[this._key(a)]},_key:function(a){return"uri-"+a.getQualifiedURI().toString()}};e.exports=a}),null);
__d("SimpleSearchNavigation",["Arbiter","DOMQuery","Input","QueryHistory","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=null,i=null;a={registerInput:function(a,c){var d=this;i=b("DOMQuery").scry(a,"input")[0];h&&this._updateTitle(h,c);b("Arbiter").subscribe("page_transition",function(a,c){d._updateTitle(b("QueryHistory").get(c.uri))})},_updateTitle:function(a,c){i&&(b("Input").setValue(i,a||""),i.setAttribute("singlestate",a&&c),i.blur())},setPageTitle:function(a,c){b("QueryHistory").set((g||(g=b("URI"))).getNextURI(),a);i?this._updateTitle(a,c):h=a;c={};b("Arbiter").inform("search/updateNullState",c,"state")},setPageQuery:function(a){b("Arbiter").inform("search/updateNullState",a,"state")}};e.exports=a}),null);
__d("XUISubNavigationLoader",["csx","cx","AjaxPipeRequest","CSS","DOM","FIGEntityPageLayout","PageHooks","PageTransitions","PageTransitionsRegistrar","Parent","Run","createCancelableFunction"],(function(a,b,c,d,e,f,g,h,i){var j="._3o_h",k="content_container",l="_4t7n",m="._4t7n",n="_2fvv",o="_2yap",p="._2yap",q="._6ng8",r="_6ng8",s=null,t=[],u=[],v=null;function w(a){for(var b=0;b<t.length;b++){var e=t[b];if(e(a))return!0}d("Run").onLeave(function(){c("PageTransitionsRegistrar").removeHandler(w,6),u.forEach(function(a){return a()}),u=[],t=[]});return!1}function x(a,b){d("CSS").conditionClass(a,l,b)}function y(a,b){b===void 0&&(b=!1);var e=d("Parent").byClass(a,n);c("DOM").scry(e,j).forEach(function(a){c("DOM").remove(a)});c("DOM").scry(e,p).forEach(function(a){d("CSS").removeClass(a,o)});b&&c("DOM").scry(e,q).forEach(function(a){d("CSS").removeClass(a,r)});d("CSS").addClass(a,o);b&&d("CSS").addClass(a,r)}function z(a){s&&(s.abort(),s=null,c("DOM").scry(d("Parent").byClass(a,n),m).forEach(function(a){d("CSS").removeClass(a,l)}))}function a(a,b,e,f){f===void 0&&(f=!1),z(e),y(e,f),x(e,!0),c("PageHooks").runHooks("onleavehooks"),s=new(c("AjaxPipeRequest"))(k,b).setData(babelHelpers["extends"]({},a.getQueryData(),{path:a.getPath()})).setFirstResponseHandler(function(){x(e,!1)}).setFinallyHandler(function(){s=null,d("FIGEntityPageLayout").update(),c("PageTransitions").transitionComplete(!0)}).send()}function b(a){t.length||c("PageTransitionsRegistrar").registerHandler(w,6),v&&v.remove(),t.push(a)}function e(a){!t.length&&!v&&(v=d("Run").onLeave(function(){u.forEach(function(a){return a()}),u=[]}));a=c("createCancelableFunction")(a);u.push(a);return{remove:function(){a.cancel()}}}g.setLoading=x;g.setSelected=y;g.cancelRequest=z;g.sendRequest=a;g.registerHandler=b;g.onLeave=e}),98);
__d("EntityPageDirectionalDockingElement",["DirectionalDockingElement","EntityPageDockingElementController"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.register=function(){d("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};return b}(c("DirectionalDockingElement"));g["default"]=a}),98);
__d("EntityPageDockingElementController",["Event","SubscriptionsHandler","XUISubNavigationLoader","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f,g){var h=[],i=null,j=c("throttle")(function(){c("queryThenMutateDOM")(function(){return h.forEach(function(a){return a.queryDOM()})},function(){return h.forEach(function(a){return a.updateWithCache()})},"EntityPageDockingElementController")});function a(a,b){i||(i=new(c("SubscriptionsHandler"))(),i.addSubscriptions(c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),d("XUISubNavigationLoader").onLeave(function(){h=[],i&&(i.release(),i=null)})));a={queryDOM:a,updateWithCache:b};h.push(a)}g.register=a}),98);
__d("getEntityPageDockingElementOffset",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=c.getRootBoundingClientRect(),e=d.height,f=d.top;d=c.getPlaceholderBoundingClientRect();var g=d.top;d=a-e;c=c.getSections();if(c){c=Array.from(c).map(function(a){return g+a.getBoundingClientRect().top-f});c.sort(function(a,b){return a-b});for(var h=0,i=c.length;h<i;h++){var j=c[h]-g;if(e-j<a-b){d=b-j;break}}}return d}f["default"]=a}),66);
__d("EntityPageRegion",["DirectionalDockingElement","getElementRect","getEntityPageDockingElementOffset","memoize","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){var e=this;this.$9=function(){return c("getElementRect")(e.$1.getPlaceholder())};this.$10=function(){return c("getElementRect")(e.$1.getRoot())};this.$1=a;this.$2=c("uniqueID")();this.$3=0;this.$4=!1;this.$5=d;this.$6=b;this.$7=0;this.$8=!1;this.getPlaceholderBoundingClientRect=c("memoize")(this.$9);this.getRootBoundingClientRect=c("memoize")(this.$10)}var b=a.prototype;b.calculateOffset=function(a,b){if(this.$5)return this.$5(a,b,this);if(this.getRootBoundingClientRect().height+b<a)return b;else return c("getEntityPageDockingElementOffset")(a,b,this)};b.getID=function(){return this.$2};b.getOffset=function(){return this.$3};b.getTop=function(){return this.$7};b.getSections=function(){var a=this.$6;return!a?null:this.$1.getPlaceholder().querySelectorAll(a)};b.setOffset=function(a){if(a===this.$3)return;this.$3=a;this.$4=!0};b.setTop=function(a){if(a===this.$7)return;this.$7=a;this.$8=!0};b.update=function(){var a=this.$4,b=this.$8,d=this.$1,e=this.$3,f=this.$7;d instanceof c("DirectionalDockingElement")&&b?a?d.setOffsetAndTop(e,f):d.setTop(f):a&&d.setOffset(e);this.$4=!1;this.$8=!1;this.getPlaceholderBoundingClientRect=c("memoize")(this.$9);this.getRootBoundingClientRect=c("memoize")(this.$10)};return a}();g["default"]=a}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return[]};return a}();e=(d=(c=a.MutationObserver)!=null?c:a.WebKitMutationObserver)!=null?d:b;c=e;f["default"]=c}),66);
__d("FIGEntityPageLayout",["Arbiter","DirectionalDockingElement","EntityPageConfig","EntityPageDirectionalDockingElement","EntityPageRegion","Event","MutationObserver","ResizeEventHandler","Run","SubscriptionsHandler","ViewportBounds","XUISubNavigationLoader","getViewportDimensions","queryThenMutateDOM","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=null,j=null,k=null,l=null,m={attributes:!1,characterData:!0,childList:!0,subtree:!0};function n(){c("queryThenMutateDOM")(function(){var a=c("getViewportDimensions")().height,b=c("ViewportBounds").getTop();h.sort(function(a,b){return a.getPlaceholderBoundingClientRect().top<b.getPlaceholderBoundingClientRect().top?-1:1});h.forEach(function(c){var d=c.getRootBoundingClientRect(),e=d.width;d=c.getPlaceholderBoundingClientRect();var f=d.left,g=d.top,i=b;h.forEach(function(a){var b=a.getRootBoundingClientRect(),d=b.height;b=b.width;var h=a.getPlaceholderBoundingClientRect(),j=h.left;h=h.top;c!==a&&h+d<=g&&Math.min(f+e,j+b)>=Math.max(f,j)&&(i+=d+a.getOffset()-a.getTop())});d=c.calculateOffset(a,i);c.setOffset(d);c.setTop(i)})},function(){h.forEach(function(a,b){a.update()})},"EntityPageLayout")}function o(){p();k||(k=new(c("SubscriptionsHandler"))(),k.addSubscriptions(d("Run").onLeave(q)));return k}function p(){j||(j=new(c("SubscriptionsHandler"))(),j.addSubscriptions(c("ViewportBounds").subscribe("change",n),c("Arbiter").subscribe("footerLoaded",n),c("Event").listen(window,"resize",c("throttle")(n)),d("XUISubNavigationLoader").onLeave(function(){j&&(j.release(),j=null),l&&(l.disconnect(),l=null),i&&(i=null)})));return j}function q(){k&&(k.release(),k=null)}function r(a,b,d,e,f){var g=new(c("EntityPageRegion"))(d,b?b.join(","):null,f);h.push(g);n();e.addSubscriptions(d.subscribe("changedheight",n),c("Event").listen(a,"resize",n));c("EntityPageConfig").hasMutationObserver&&(l||(i=new(c("ResizeEventHandler"))(n),l=new(c("MutationObserver"))(i.handleEvent)),l.observe(a,m));return function(){c("removeFromArray")(h,g),h.length===0&&q()}}function a(a,b,d,e){var f=d?new d(a):new(c("DirectionalDockingElement"))(a),g=r(a,b,f,o(),e);return{remove:function(){g(),f.destroy()}}}function b(a,b,d,e){var f=d?new d(a):new(c("EntityPageDirectionalDockingElement"))(a),g=r(a,b,f,p(),e);return{remove:function(){g(),f.destroy()}}}g.update=n;g.register=a;g.registerAcrossTransitions=b}),98);
__d("enumUtils",["nullthrows","objectValues"],(function(a,b,c,d,e,f,g){function h(a,b){return c("objectValues")(b).find(function(b){return b===a})}function a(a,b){return a==null?null:h(a,b)}function i(a,b){if(a!=null){b=Object.keys(b);for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return d}}return null}function j(a,b){return c("nullthrows")(h(a,b))}function b(a,b){return c("nullthrows")(i(a,b))}function d(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(j(f,b))}return c}function k(a,b){return(b=b[a])!=null?b:null}function l(a,b){return c("nullthrows")(k(a,b))}function e(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(l(f,b))}return c}function m(a,b){var c;Object.keys(b).forEach(function(d){b[d]===a&&(c=d)});return c}function f(a,b){return c("nullthrows")(m(a,b))}g.coerce=h;g.coerceNullable=a;g.coerceKey=i;g.assert=j;g.assertKey=b;g.assertIterable=d;g.coerceFromKey=k;g.assertFromKey=l;g.assertIterableFromKey=e;g.enumValueToKey=m;g.enumValueToKeyEnforcing=f}),98);
__d("LayoutColumn.react",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a,b){var d=a.className,e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","children"]);return i.jsx("div",babelHelpers["extends"]({ref:b},a,{className:c("joinClasses")(d,"_4bl7"),children:e}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("LayoutFillColumn.react",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a,b){var d=a.className,e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","children"]);return i.jsx("div",babelHelpers["extends"]({ref:b},a,{className:c("joinClasses")(d,"_4bl9"),children:e}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("Layout.react",["cx","LayoutColumn.react","LayoutFillColumn.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=!1,d=!1,e=this.props,f=e.children,g=e.className;e=babelHelpers.objectWithoutPropertiesLoose(e,["children","className"]);i.Children.forEach(f,function(c){if(!c)return;c.type===b.FillColumn?d=!0:d&&(a=!0)});return i.jsx("div",babelHelpers["extends"]({},e,{className:c("joinClasses")(g,a?"_5aj7":"clearfix _ikh"),children:f}))};return b}(i.Component);a.Column=c("LayoutColumn.react");a.FillColumn=c("LayoutFillColumn.react");g["default"]=a}),98);